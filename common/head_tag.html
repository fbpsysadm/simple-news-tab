<script type="text/discourse-plugin" version="0.8.42">
  // Add a new News tab to the navigation bar, linking to /top
  api.addNavigationBarItem({
    name: "news",
    displayName: "News",
    href: "/top"
  });

  // Hide topic list and show only news content when News tab is active
  api.onPageChange((url, title) => {
    const isNewsTab = url === "/top" && document.querySelector('.navigation-bar .news.active');
    alert(isNewsTab);
    const topicList = document.querySelector('.topic-list');
    const newsContent = document.querySelector('.custom-news-content');
    if (topicList && newsContent) {
      if (isNewsTab) {
        topicList.style.display = 'none';
        newsContent.style.display = 'block';
      } else {
        topicList.style.display = '';
        newsContent.style.display = 'none';
      }
    }
  });
</script>
