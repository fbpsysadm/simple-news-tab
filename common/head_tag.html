<script type="text/discourse-plugin" version="0.8.42">
  // Add a new filter to the navigation bar
  api.addNavigationBarItem({
    name: "news",
    displayName: "News",
    href: "/news"
  });

  // Register a custom route
  api.modifyClass('controller:discovery/topics', {
    pluginId: 'news-custom-tab',
    actions: {
      showNews() {
        this.transitionToRoute('news');
      }
    }
  });

  // Register the route and template (see below)

  api.modifyClass("router:main", {
    pluginId: "add-news-route",
    beforeModel(transition) {
      if (transition.intent.url == "/news") {
        this.transitionTo("news");
      }
      this._super(...arguments);
    }
  });

  api.addRoute("news", { path: "/news" });

  
</script>
