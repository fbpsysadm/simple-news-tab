<script type="text/discourse-plugin" version="0.8.42">
  console.log("[News Tab Theme] Script loaded");
  // Add a new News tab to the navigation bar, linking to /top#news
  api.addNavigationBarItem({
    name: "news",
    displayName: "News",
    href: "/top#news"
  });

  // Function to show/hide news content and topic list
  function toggleNewsContent() {
    console.log("[News Tab Theme] toggleNewsContent called");
    const topicList = document.querySelector('.topic-list');
    const newsContent = document.querySelector('.custom-news-content');
    console.log("Hiding topic list, showing news content");
    topicList.style.display = 'none';
    newsContent.style.display = 'block';
  }

  // Attach click event to News tab to hide topic list and show news content
  api.onPageChange(() => {
    const newsTab = document.querySelector('.navigation-bar .news');
    if (newsTab) {
      newsTab.onclick = function(e) {
        e.preventDefault();
        toggleNewsContent();
      };
    }
  });
</script>
